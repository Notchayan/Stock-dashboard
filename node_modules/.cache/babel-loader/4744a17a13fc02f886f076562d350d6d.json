{"ast":null,"code":"import _defineProperty from\"/Users/chayankumawat/Desktop/react-stock-dashboard-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/Users/chayankumawat/Desktop/react-stock-dashboard-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/chayankumawat/Desktop/react-stock-dashboard-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/chayankumawat/Desktop/react-stock-dashboard-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/chayankumawat/Desktop/react-stock-dashboard-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import Chart from'chart.js';import'../css/GraphCard.css';var GraphCard=/*#__PURE__*/function(_Component){_inherits(GraphCard,_Component);var _super=_createSuper(GraphCard);function GraphCard(){var _this;_classCallCheck(this,GraphCard);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.chartRef=React.createRef();_this.chartInstance=null;_this.handleMouseEnter=function(){// Handle chart hover effects here\nif(_this.chartInstance){var dataset=_this.chartInstance.data.datasets[0];// Change the border color to a brighter color on hover\ndataset.borderColor='rgba(255, 99, 132, 1)';// Increase the line thickness on hover\ndataset.borderWidth=3;// Redraw the chart with animation to reflect the changes\n_this.chartInstance.update({duration:200,easing:'linear'});}};_this.handleMouseLeave=function(){// Reset chart hover effects here\nif(_this.chartInstance){var dataset=_this.chartInstance.data.datasets[0];// Reset border color to the original color\ndataset.borderColor='rgba(129, 183, 55, 1)';// Reset line thickness to the original value\ndataset.borderWidth=2;// Redraw the chart with animation to reflect the changes\n_this.chartInstance.update({duration:200,easing:'linear'});}};_this.convertToDate=function(str){var date=new Date(str);var mnth=String(date.getMonth()+1).padStart(2,'0');var day=String(date.getDate()).padStart(2,'0');return\"\".concat(date.getFullYear(),\"-\").concat(mnth,\"-\").concat(day);};return _this;}_createClass(GraphCard,[{key:\"componentDidMount\",value:function componentDidMount(){this.createChart();}},{key:\"componentDidUpdate\",value:function componentDidUpdate(prevProps){if(this.props.showGraphData&&prevProps.graphData!==this.props.graphData){this.updateChart();}}},{key:\"createChart\",value:function createChart(){var graphData=this.props.graphData;var lowOrHighColor=graphData.y_axis[0]<graphData.y_axis[graphData.y_axis.length-1]?'#81b737':'#d54f4f';var chartOptions=_defineProperty({responsive:true,maintainAspectRatio:false,// Ensure the chart resizes correctly\nplugins:{tooltip:{enabled:true,mode:'point'}},scales:{x:{display:false,grid:{display:true,color:'rgba(0, 0, 0, 0.1)'// Light grid lines\n}},y:{display:true,stepSize:5,grid:{display:true,color:'rgba(0, 0, 0, 0.1)'// Light grid lines\n}}},elements:{point:{radius:0}}},\"plugins\",{legend:{display:false}});var ctx=this.chartRef.current.getContext('2d');this.chartInstance=new Chart(ctx,{type:'line',data:{labels:graphData.x_axis,datasets:[{data:graphData.y_axis,backgroundColor:'rgba(0, 0, 0, 0)',borderColor:lowOrHighColor,borderWidth:2// Increase line thickness\n}]},options:chartOptions});// Add interactivity: Update chart when the cursor enters or leaves the chart area\nthis.chartRef.current.addEventListener('mouseenter',this.handleMouseEnter);this.chartRef.current.addEventListener('mouseleave',this.handleMouseLeave);}},{key:\"updateChart\",value:function updateChart(){var graphData=this.props.graphData;// Update chart data and re-render\nthis.chartInstance.data.labels=graphData.x_axis;this.chartInstance.data.datasets[0].data=graphData.y_axis;this.chartInstance.update();}},{key:\"render\",value:function render(){var graphData=this.props.graphData;return/*#__PURE__*/React.createElement(\"div\",{className:\"main__chart\",id:\"myChart-\".concat(graphData.stockValue)},/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"h2\",{className:\"h5 mb-3 stockValue\"},graphData.stockValue,graphData.date_data?/*#__PURE__*/React.createElement(\"div\",{className:\"ml-2 d-inline\"},/*#__PURE__*/React.createElement(\"span\",null,\"(\",this.convertToDate(graphData.date_data.filteredStartDate),\"\\xA0to\\xA0\",this.convertToDate(graphData.date_data.filteredEndDate),\")\")):/*#__PURE__*/React.createElement(\"div\",{className:\"ml-2 d-inline\"},\"(Last 72 Hours)\")),/*#__PURE__*/React.createElement(\"canvas\",{className:\"myChart\",ref:this.chartRef})));}}]);return GraphCard;}(Component);export default GraphCard;","map":{"version":3,"sources":["/Users/chayankumawat/Desktop/react-stock-dashboard-master/src/components/GraphCard.js"],"names":["React","Component","Chart","GraphCard","chartRef","createRef","chartInstance","handleMouseEnter","dataset","data","datasets","borderColor","borderWidth","update","duration","easing","handleMouseLeave","convertToDate","str","date","Date","mnth","String","getMonth","padStart","day","getDate","getFullYear","createChart","prevProps","props","showGraphData","graphData","updateChart","lowOrHighColor","y_axis","length","chartOptions","responsive","maintainAspectRatio","plugins","tooltip","enabled","mode","scales","x","display","grid","color","y","stepSize","elements","point","radius","legend","ctx","current","getContext","type","labels","x_axis","backgroundColor","options","addEventListener","stockValue","date_data","filteredStartDate","filteredEndDate"],"mappings":"k2BAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAOC,CAAAA,KAAP,KAAkB,UAAlB,CACA,MAAO,sBAAP,C,GAEMC,CAAAA,S,uUACJC,Q,CAAWJ,KAAK,CAACK,SAAN,E,OACXC,a,CAAgB,I,OAoFhBC,gB,CAAmB,UAAM,CACvB;AACA,GAAI,MAAKD,aAAT,CAAwB,CACtB,GAAME,CAAAA,OAAO,CAAG,MAAKF,aAAL,CAAmBG,IAAnB,CAAwBC,QAAxB,CAAiC,CAAjC,CAAhB,CACA;AACAF,OAAO,CAACG,WAAR,CAAsB,uBAAtB,CACA;AACAH,OAAO,CAACI,WAAR,CAAsB,CAAtB,CACA;AACA,MAAKN,aAAL,CAAmBO,MAAnB,CAA0B,CAAEC,QAAQ,CAAE,GAAZ,CAAiBC,MAAM,CAAE,QAAzB,CAA1B,EACD,CACF,C,OAEDC,gB,CAAmB,UAAM,CACvB;AACA,GAAI,MAAKV,aAAT,CAAwB,CACtB,GAAME,CAAAA,OAAO,CAAG,MAAKF,aAAL,CAAmBG,IAAnB,CAAwBC,QAAxB,CAAiC,CAAjC,CAAhB,CACA;AACAF,OAAO,CAACG,WAAR,CAAsB,uBAAtB,CACA;AACAH,OAAO,CAACI,WAAR,CAAsB,CAAtB,CACA;AACA,MAAKN,aAAL,CAAmBO,MAAnB,CAA0B,CAAEC,QAAQ,CAAE,GAAZ,CAAiBC,MAAM,CAAE,QAAzB,CAA1B,EACD,CACF,C,OAEDE,a,CAAgB,SAACC,GAAD,CAAS,CACvB,GAAMC,CAAAA,IAAI,CAAG,GAAIC,CAAAA,IAAJ,CAASF,GAAT,CAAb,CACA,GAAMG,CAAAA,IAAI,CAAGC,MAAM,CAACH,IAAI,CAACI,QAAL,GAAkB,CAAnB,CAAN,CAA4BC,QAA5B,CAAqC,CAArC,CAAwC,GAAxC,CAAb,CACA,GAAMC,CAAAA,GAAG,CAAGH,MAAM,CAACH,IAAI,CAACO,OAAL,EAAD,CAAN,CAAuBF,QAAvB,CAAgC,CAAhC,CAAmC,GAAnC,CAAZ,CACA,gBAAUL,IAAI,CAACQ,WAAL,EAAV,aAAgCN,IAAhC,aAAwCI,GAAxC,EACD,C,kGAjHmB,CAClB,KAAKG,WAAL,GACD,C,8DAEkBC,S,CAAW,CAC5B,GAAI,KAAKC,KAAL,CAAWC,aAAX,EAA4BF,SAAS,CAACG,SAAV,GAAwB,KAAKF,KAAL,CAAWE,SAAnE,CAA8E,CAC5E,KAAKC,WAAL,GACD,CACF,C,iDAEa,IACJD,CAAAA,SADI,CACU,KAAKF,KADf,CACJE,SADI,CAEZ,GAAME,CAAAA,cAAc,CAAGF,SAAS,CAACG,MAAV,CAAiB,CAAjB,EAAsBH,SAAS,CAACG,MAAV,CAAiBH,SAAS,CAACG,MAAV,CAAiBC,MAAjB,CAA0B,CAA3C,CAAtB,CAAsE,SAAtE,CAAkF,SAAzG,CAEA,GAAMC,CAAAA,YAAY,kBAChBC,UAAU,CAAE,IADI,CAEhBC,mBAAmB,CAAE,KAFL,CAEY;AAC5BC,OAAO,CAAE,CACPC,OAAO,CAAE,CACPC,OAAO,CAAE,IADF,CAEPC,IAAI,CAAE,OAFC,CADF,CAHO,CAShBC,MAAM,CAAE,CACNC,CAAC,CAAE,CACDC,OAAO,CAAE,KADR,CAEDC,IAAI,CAAE,CACJD,OAAO,CAAE,IADL,CAEJE,KAAK,CAAE,oBAAsB;AAFzB,CAFL,CADG,CAQNC,CAAC,CAAE,CACDH,OAAO,CAAE,IADR,CAEDI,QAAQ,CAAE,CAFT,CAGDH,IAAI,CAAE,CACJD,OAAO,CAAE,IADL,CAEJE,KAAK,CAAE,oBAAsB;AAFzB,CAHL,CARG,CATQ,CA0BhBG,QAAQ,CAAE,CACRC,KAAK,CAAE,CACLC,MAAM,CAAE,CADH,CADC,CA1BM,YA+BP,CACPC,MAAM,CAAE,CACNR,OAAO,CAAE,KADH,CADD,CA/BO,CAAlB,CAsCA,GAAMS,CAAAA,GAAG,CAAG,KAAKnD,QAAL,CAAcoD,OAAd,CAAsBC,UAAtB,CAAiC,IAAjC,CAAZ,CACA,KAAKnD,aAAL,CAAqB,GAAIJ,CAAAA,KAAJ,CAAUqD,GAAV,CAAe,CAClCG,IAAI,CAAE,MAD4B,CAElCjD,IAAI,CAAE,CACJkD,MAAM,CAAE3B,SAAS,CAAC4B,MADd,CAEJlD,QAAQ,CAAE,CACR,CACED,IAAI,CAAEuB,SAAS,CAACG,MADlB,CAEE0B,eAAe,CAAE,kBAFnB,CAGElD,WAAW,CAAEuB,cAHf,CAIEtB,WAAW,CAAE,CAAG;AAJlB,CADQ,CAFN,CAF4B,CAalCkD,OAAO,CAAEzB,YAbyB,CAAf,CAArB,CAgBA;AACA,KAAKjC,QAAL,CAAcoD,OAAd,CAAsBO,gBAAtB,CAAuC,YAAvC,CAAqD,KAAKxD,gBAA1D,EACA,KAAKH,QAAL,CAAcoD,OAAd,CAAsBO,gBAAtB,CAAuC,YAAvC,CAAqD,KAAK/C,gBAA1D,EACD,C,iDAEa,IACJgB,CAAAA,SADI,CACU,KAAKF,KADf,CACJE,SADI,CAEZ;AACA,KAAK1B,aAAL,CAAmBG,IAAnB,CAAwBkD,MAAxB,CAAiC3B,SAAS,CAAC4B,MAA3C,CACA,KAAKtD,aAAL,CAAmBG,IAAnB,CAAwBC,QAAxB,CAAiC,CAAjC,EAAoCD,IAApC,CAA2CuB,SAAS,CAACG,MAArD,CACA,KAAK7B,aAAL,CAAmBO,MAAnB,GACD,C,uCAmCQ,IACCmB,CAAAA,SADD,CACe,KAAKF,KADpB,CACCE,SADD,CAEP,mBACE,2BAAK,SAAS,CAAC,aAAf,CAA6B,EAAE,mBAAaA,SAAS,CAACgC,UAAvB,CAA/B,eACE,4CACE,0BAAI,SAAS,CAAC,oBAAd,EACGhC,SAAS,CAACgC,UADb,CAEGhC,SAAS,CAACiC,SAAV,cACC,2BAAK,SAAS,CAAC,eAAf,eACE,oCAEG,KAAKhD,aAAL,CAAmBe,SAAS,CAACiC,SAAV,CAAoBC,iBAAvC,CAFH,cAGG,KAAKjD,aAAL,CAAmBe,SAAS,CAACiC,SAAV,CAAoBE,eAAvC,CAHH,KADF,CADD,cAUC,2BAAK,SAAS,CAAC,eAAf,oBAZJ,CADF,cAgBE,8BAAQ,SAAS,CAAC,SAAlB,CAA4B,GAAG,CAAE,KAAK/D,QAAtC,EAhBF,CADF,CADF,CAsBD,C,uBA/IqBH,S,EAkJxB,cAAeE,CAAAA,SAAf","sourcesContent":["import React, { Component } from 'react';\nimport Chart from 'chart.js';\nimport '../css/GraphCard.css';\n\nclass GraphCard extends Component {\n  chartRef = React.createRef();\n  chartInstance = null;\n\n  componentDidMount() {\n    this.createChart();\n  }\n\n  componentDidUpdate(prevProps) {\n    if (this.props.showGraphData && prevProps.graphData !== this.props.graphData) {\n      this.updateChart();\n    }\n  }\n\n  createChart() {\n    const { graphData } = this.props;\n    const lowOrHighColor = graphData.y_axis[0] < graphData.y_axis[graphData.y_axis.length - 1] ? '#81b737' : '#d54f4f';\n\n    const chartOptions = {\n      responsive: true,\n      maintainAspectRatio: false, // Ensure the chart resizes correctly\n      plugins: {\n        tooltip: {\n          enabled: true,\n          mode: 'point',\n        },\n      },\n      scales: {\n        x: {\n          display: false,\n          grid: {\n            display: true,\n            color: 'rgba(0, 0, 0, 0.1)', // Light grid lines\n          },\n        },\n        y: {\n          display: true,\n          stepSize: 5,\n          grid: {\n            display: true,\n            color: 'rgba(0, 0, 0, 0.1)', // Light grid lines\n          },\n        },\n      },\n      elements: {\n        point: {\n          radius: 0,\n        },\n      },\n      plugins: {\n        legend: {\n          display: false,\n        },\n      },\n    };\n\n    const ctx = this.chartRef.current.getContext('2d');\n    this.chartInstance = new Chart(ctx, {\n      type: 'line',\n      data: {\n        labels: graphData.x_axis,\n        datasets: [\n          {\n            data: graphData.y_axis,\n            backgroundColor: 'rgba(0, 0, 0, 0)',\n            borderColor: lowOrHighColor,\n            borderWidth: 2, // Increase line thickness\n          },\n        ],\n      },\n      options: chartOptions,\n    });\n\n    // Add interactivity: Update chart when the cursor enters or leaves the chart area\n    this.chartRef.current.addEventListener('mouseenter', this.handleMouseEnter);\n    this.chartRef.current.addEventListener('mouseleave', this.handleMouseLeave);\n  }\n\n  updateChart() {\n    const { graphData } = this.props;\n    // Update chart data and re-render\n    this.chartInstance.data.labels = graphData.x_axis;\n    this.chartInstance.data.datasets[0].data = graphData.y_axis;\n    this.chartInstance.update();\n  }\n\n  handleMouseEnter = () => {\n    // Handle chart hover effects here\n    if (this.chartInstance) {\n      const dataset = this.chartInstance.data.datasets[0];\n      // Change the border color to a brighter color on hover\n      dataset.borderColor = 'rgba(255, 99, 132, 1)';\n      // Increase the line thickness on hover\n      dataset.borderWidth = 3;\n      // Redraw the chart with animation to reflect the changes\n      this.chartInstance.update({ duration: 200, easing: 'linear' });\n    }\n  };\n\n  handleMouseLeave = () => {\n    // Reset chart hover effects here\n    if (this.chartInstance) {\n      const dataset = this.chartInstance.data.datasets[0];\n      // Reset border color to the original color\n      dataset.borderColor = 'rgba(129, 183, 55, 1)';\n      // Reset line thickness to the original value\n      dataset.borderWidth = 2;\n      // Redraw the chart with animation to reflect the changes\n      this.chartInstance.update({ duration: 200, easing: 'linear' });\n    }\n  };\n\n  convertToDate = (str) => {\n    const date = new Date(str);\n    const mnth = String(date.getMonth() + 1).padStart(2, '0');\n    const day = String(date.getDate()).padStart(2, '0');\n    return `${date.getFullYear()}-${mnth}-${day}`;\n  };\n\n  render() {\n    const { graphData } = this.props;\n    return (\n      <div className=\"main__chart\" id={`myChart-${graphData.stockValue}`}>\n        <div>\n          <h2 className=\"h5 mb-3 stockValue\">\n            {graphData.stockValue}\n            {graphData.date_data ? (\n              <div className=\"ml-2 d-inline\">\n                <span>\n                  (\n                  {this.convertToDate(graphData.date_data.filteredStartDate)}&nbsp;to&nbsp;\n                  {this.convertToDate(graphData.date_data.filteredEndDate)}\n                  )\n                </span>\n              </div>\n            ) : (\n              <div className=\"ml-2 d-inline\">(Last 72 Hours)</div>\n            )}\n          </h2>\n          <canvas className=\"myChart\" ref={this.chartRef} />\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default GraphCard;\n"]},"metadata":{},"sourceType":"module"}